---
title: "EEB330 -- Precept 00: R and Git"
subtitle: "Basic programming in R and version control with git"
author: Scott Wolf
date: Sept. 13th, 2023
output: html_document
---

# Precept intro

Precepts can be found here: [https://eeb330.github.io/#Precepts](https://eeb330.github.io/#Precepts) and on GitHub in the [EEB330/slides](https://github.com/EEB330/slides/tree/main/precepts) repository.

We're going to mostly be doing the precept problem sets during class, but I'll be posting them as well. If you don't finish during class, you can finish them on your own time and submit them to the appropriate assignment within 2 weeks to GitHub Classroom.
# Introduction

This precept is focused on getting started programming with R and utilzing git for version control -- including how we will submit assigments and projects throughout the semester.


## R


### Getting started

We support two IDEs in the course: RStudio and VS Code.  I'll be using VS Code for the precepts, but feel free to use whichever you prefer. VS Code is a bit more lightweight and extensible, but RStudio has a lot of nice features speficially for R.

Before going forward, lets install the basic software we need: [R](https://cran.r-project.org/) and [git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git). I recommend [Homebrew](https://brew.sh/) for Mac users, but you can also use the installers from the links provided.


#### VS Code
[VS Code](https://code.visualstudio.com/). Once you've installed and lauched VS Code, you'll need to grab a few extensions. I'd recommend getting the [R Extension](https://code.visualstudio.com/docs/languages/r) at minimum.

##### Optional extras:
Bash:
```{bash, eval=FALSE, engine="sh"}
pip install radian
```

R:
```{r, eval=FALSE}
install.packages("httpgd")
```

#### RStudio
[RStudio](https://rstudio.com/) 


### Basics of R in R Markdown

[R Markdown](https://rmarkdown.rstudio.com/) is a great way to combine code, text, and figures into a single document. We'll be using R Markdown for the bulk of our work this semester.


#### R Markdown basics

R Markdown basic syntax -- [cheatsheet](https://rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf).

We want to make sure to create an appropriate header and then separate our code into meaningful chunks.  For example, here's an example that loads and displays the `iris` dataset:

```{r}
# This cell loads and examines the iris dataset

# Load the dataset
data(iris)

# Check the class and type of the dataset
class(iris)
typeof(iris) # note that this is different than class -- typeof is the underlying type of the object in memory.

# view the first few rows of the dataset
head(iris)
```


## Git

For the semester we're going to be using GitHub Classroom to manage assignments and projects. You should have received an announcement with the Classroom link.  If you haven't, please let me know.

### Getting started

First, you'll need to create an account on GitHub. You can do that [https://github.com/join](https://github.com/join).

#### Authenticating

Once you've created an account, you'll need to authenticate with GitHub. Check out the [GitHub authentication documentation](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/about-authentication-to-github) for more information on how to do this.

I'd recommend using Personal Access Tokens (PATs) as described [here](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens).

#### Accessing git

For the actual management, I'll be using the command line and VS Code extensions, but you can also [GitHub Desktop](https://desktop.github.com/).

### GitHub Classroom

#### Accepting the assignment

When you accept the assignment, it will create a private repository (only visible to EEB330 staff and yourself) that you can use. Once you have that repository, you can clone it to your local machine and start working on it.

### Cloning the repository

To clone the repository, you'll need to copy the URL from the repository page.  You can do this by clicking the green "Code" button and copying the URL.  Then, in your terminal, you can run `git clone <URL>` to clone the repository to your local machine.

```{bash, eval=FALSE, engine="sh"}
git clone https://github.com/EEB330/intro-to-git-{GITHUB_USERNAME}.git
git checkout -b precept-1
```
### Working on the assignment

For this assignment, you can just create an simple example R Markdown file containing some code and text.  You can then commit and push your changes to the branch you created.

Our goal is to make a simple R Markdown file for exploring the iris data set.

```{r}
# ----- Loading and Exploring the iris dataset -----

# Load the dataset
data(iris)

# View the first few rows to understand its structure
head(iris)

# Check the detailed structure of the dataset for more information on its columns
str(iris)

# Generate summary statistics to get a sense of the data distribution
summary(iris)

# ----- Data Visualization -----

# Scatter plot visualizing the relationship between Sepal measurements
plot(iris$Sepal.Length, iris$Sepal.Width, main="Sepal Length vs Sepal Width", 
     xlab="Sepal Length", ylab="Sepal Width", col=iris$Species, pch=16, cex=1.3)
legend("topright", legend=levels(iris$Species), col=1:3, pch=16)

# Scatter plot visualizing the relationship between Petal measurements
plot(iris$Petal.Length, iris$Petal.Width, main="Petal Length vs Petal Width", 
     xlab="Petal Length", ylab="Petal Width", col=iris$Species, pch=16, cex=1.3)
legend("topright", legend=levels(iris$Species), col=1:3, pch=16)

# ----- Modifying the Dataset -----

# Add a new column 'Petal.Length.Class' that classifies flowers based on petal length
iris$Petal.Length.Class <- ifelse(iris$Petal.Length < 2, "Short", 
                           ifelse(iris$Petal.Length < 5, "Medium", "Long"))

# View the initial rows of the modified dataset to see the added column
head(iris)


```

#### Pushing your changes
```{bash, eval=FALSE, engine="sh"}
git add precept_1.Rmd
git push --set-upstream origin precept-1 
```

Note that after you set the upstream branch, you can just run `git push` to push your changes to the remote repository.

### Submitting the assignment

Once you make any changes to the main branch, the assignment will be marked as submitted. To avoid your work being marked as submitted, make sure you use branches and pull requests.

Once you've made changes to your development branch, you can make a PR that details all of the changes you've made across multiple commits. This allows you to merge back in a single unit of work.

#### Example Pull Request
```{verbatim}
# Summary

This PR shows example formatting. Because PRs are the primary location at which code is evaluated, make sure that your PRs are clear and descriptive. PRs can include markdown so they can become relatively complex if the assignment (or issue) is complicated. This should be paired with will documented code to allow others to easily follow your design and implementation.

# Design notes

N/A

# Implementation notes

N/A
```
> **WARNING**
>
> Be very careful here! Please try to only merge PRs when you have completed assignments. If you merge multiple PRs for an assignment, I'll try to loop back to them if I've already graded one, but if I miss them for some reason, please let me know!

